<template>
    <lightning-card>
        <c-lwc-01-working-scope selected-comp={cedCompany} selected-year={uwYear} is-modal-open="true" create-prog="false" is-sign-for-pool="true"></c-lwc-01-working-scope>
    </lightning-card>
    <br/>

    <lightning-card>
        <lightning-button-group slot="actions">
            <lightning-button variant="brand" label="Documents" title="Documents" icon-name="utility:file" disabled={disableDocuments} class="slds-m-left_x-small" onclick={handleOpenModal}></lightning-button>
        </lightning-button-group>
    </lightning-card>

    <template if:true={OpenDocumentModal}>
        <div class="demo-only">
            <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
                <div class="slds-modal__container" style="width: 80%; max-width: 95rem; min-width: 40rem;">
                    <header class="slds-modal__header">
                        <button class="slds-button slds-button_icon slds-modal__close slds-button_icon-inverse" title="Close" onclick={handleCloseModal}>
                            <lightning-icon icon-name="utility:close" size="medium">
                            </lightning-icon>
                            <span class="slds-assistive-text">Close</span>
                        </button>

                        <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Documents</h2>
                    </header>
                    <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
                        <!--Program section-->
                        <div style="background-color: #f3f2f2;padding-top: 0.5rem;padding-bottom: 0.5rem;margin-top: 0.5rem;">
                            <lightning-tile type="media">
                                <div class="slds-text-heading_small">Program</div>
                            </lightning-tile>
                        </div>
                        <lightning-layout>
                            <lightning-layout-item padding="around-small" size="6">
                                <lightning-combobox name="program"
                                                    label="Program"
                                                    disabled
                                                    value={programName}
                                                    options={programOptions}
                                                    placeholder="--None--">
                                </lightning-combobox>
                            </lightning-layout-item>
                        </lightning-layout>
                        <br/>
                        <div class="slds-border--top slds-border--left slds-border--right slds-border--bottom slds-p-top--small">
                            <lightning-card title="Documents" icon-name="standard:account">
                                <lightning-layout>
                                    <table class="slds-table slds-table_cell-buffer slds-table_bordered">
                                        <thead>
                                            <tr class="slds-line-height_reset">
                                              <th class="" scope="col">
                                                <div class="slds-truncate">Name</div>
                                              </th>
                                              <th class="" scope="col">
                                                <div class="slds-truncate">Phase</div> <!--RRA - ticket 1089 - 08052023-->
                                              </th>
                                              <th class="" scope="col">
                                                <div class="slds-truncate">Last Update Date</div> <!--RRA - ticket 1089 - 08052023-->
                                              </th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <template for:each={lstDocuments} for:item="ThemisDoc">
                                                <tr key={ThemisDoc.Id} id={ThemisDoc.Id} class="slds-p-around--xxx-small">
                                                    <td><a href={ThemisDoc.DocumentUrl} target="_blank">{ThemisDoc.Name}</a> </td>
                                                    <td>{ThemisDoc.Phase}</td><!--RRA - ticket 1089 - 08052023-->
                                                    <td>{ThemisDoc.LastModifiedDate}</td><!--RRA - ticket 1089 - 08052023-->
                                                </tr>
                                            </template>
                                        </tbody>
                                    </table>
                                </lightning-layout>
                            </lightning-card>
                            <div style="float: right;" class="slds-p-top--large">
                                <lightning-button class="slds-p-around--xxx-small" label="Close" slot="actions" onclick={handleCloseModal}></lightning-button>
                            </div>
                        </div>
                       
                    </div>
                </div>
            </section>
            <div class="slds-backdrop slds-backdrop_open"></div>
        </div>
    </template>
    <br/>
    <div class="slds-p-around_small slds-theme_shade">
        <lightning-layout horizontal-align="spread" vertical-align="center">
            <lightning-layout-item>
                <div class="slds-media slds-media_center">
                    <div class="slds-media__figure">
                        <lightning-icon icon-name="standard:apps" size="medium" variant="slds-icon-inverse"></lightning-icon>
                    </div>
                    <div class="slds-media__body">
                        <div style="font-size: 0.8125rem;">Program</div>
                        <div class="slds-page-header__title slds-text-heading_small">{programName}</div>
                    </div>
                    <div class="slds-media__figure slds-media__figure_reverse"></div>
                </div>
            </lightning-layout-item>
            <lightning-layout-item>
                <lightning-button-group class="slds-button-group-row slds-m-right_large"></lightning-button-group>
            </lightning-layout-item>
        </lightning-layout>
    </div>
    <div class="slds-m-bottom_small slds-page-header slds-page-header_vertical">
        <lightning-layout class="slds-wrap" multiple-rows="true">
            <lightning-layout-item size="6">
                <div class="slds-form-element"><span class="slds-form-element__label">Inception Date</span>
                    <div class="slds-form-element__control"><span class="slds-form-element__static">{inceptionDateValue}</span></div>
                </div>
            </lightning-layout-item>
            <lightning-layout-item size="6">
                <div class="slds-form-element"><span class="slds-form-element__label">Expiry Date</span>
                    <div class="slds-form-element__control"><span class="slds-form-element__static">{expiryDateValue}</span></div>
                </div>
            </lightning-layout-item>
        </lightning-layout>
    </div>
    
<!--    <lightning-card>-->
        <template for:each={lstSectionRequestByTreatyId} for:item='treatySectionRequest'>
            <div key={treatySectionRequest.key.value}>
                <div style="background-color: #001933;padding-top: 0.5rem;padding-bottom: 0.5rem;margin-top: 1rem;">
                    <lightning-tile type="media">
                        <div class="slds-text-heading_small" style="color: white; text-align: center">{treatySectionRequest.key.label}</div>
                    </lightning-tile>
                </div>
                <br/>
                <!--SAU Treaty Info 17/09/2020-->
                <lightning-accordion allow-multiple-sections-open="true">
                    <lightning-accordion-section name="TreatyInfo" label="Treaty Information" class="collapsible_bg">
                        <div style="min-height:99px;max-height:800px;width: 104%;margin-left: -2%;background: white;    padding-top: 2%">
                            <div class="slds-m-bottom_small" style="margin-left: 45px;">
                                <lightning-layout class="slds-wrap" multiple-rows="true">
                                    <lightning-layout-item size="6">
                                        <div class="slds-form-element"><span class="slds-form-element__label">Loss Deposit</span>
                                            <div class="slds-form-element__control"><span class="slds-form-element__static">{treatySectionRequest.key.LossDept}</span></div>
                                        </div>
                                    </lightning-layout-item>
                                </lightning-layout>
                            </div>
                        </div>
                    </lightning-accordion-section>
                </lightning-accordion>
                </br>

                <!--SAU Add leaders list (broker and reinsurer of lead for the signing request)-->
                <lightning-accordion allow-multiple-sections-open="true">
                    <lightning-accordion-section name={Leaders} label="Leader List" class="collapsible_bg">
                        <div style="min-height:140px;max-height:800px;width: 104%;margin-left: -2%;background: white;    padding-top: 2%">
                            <div style="background: white;">
                                <div class="slds-m-bottom_small" style="margin-left: 45px; margin-right: 45px;">
                                    <table class="slds-table slds-table_bordered">
                                        <thead style="background-color:cadetblue;">
                                            <th class ="slds-border_right slds-border_left">Broker</th> <!--RRA - ticket 1557 - 11082023-->
                                            <th class = "slds-border_left slds-border_right">Reinsurer</th>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td class="slds-border_right slds-border_left">{treatySectionRequest.brokerName}</td>
                                                <td class="slds-border_right slds-border_left">{treatySectionRequest.reinsurerName}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                 </div>
                             </div>
                        </div>
                    </lightning-accordion-section>
                </lightning-accordion>

                <template for:each={treatySectionRequest.value} for:item='sectionRequest'>
                    <div key={sectionRequest.Id} style="background-color: #FFFFFF;">
                        <br/>
                        <lightning-accordion allow-multiple-sections-open="true">
                            <lightning-accordion-section name={sectionRequest.TECH_SectionName__c} label={sectionRequest.Name} class="collapsible_bg">
                                <div style="background-color: #FFFFFF; margin-left: -1rem;margin-right:-1rem;padding-top: -0.5rem;padding-bottom: -1.5rem;">
                                    <br/>
                                    <div style="background-color: #f3f2f2;padding-top: 0.5rem;padding-bottom: 0.5rem;margin-left: 1rem;margin-right: 1rem;">
                                        <lightning-tile type="media">
                                            <div class="slds-text-heading_small">Price Structure Details</div>
                                        </lightning-tile>
                                    </div>
                                    <lightning-layout multiple-rows>
                                        <lightning-layout-item padding="around-small" size="6">
                                            <template if:true={sectionRequest.isTreatyTypeSL}>
                                                <div style="background-color: #f3f2f2;padding-top: 0.5rem;padding-bottom: 0.5rem;margin-top: 0.5rem;margin-left: 1rem;margin-right: 0.5rem;">
                                                    <lightning-tile type="media">
                                                        <div class="slds-text-heading_small">Stop Loss Section</div>
                                                    </lightning-tile>
                                                </div>
                                                <div style="margin-left: 1rem;margin-right: 0.5rem;margin-top: 0.5rem;margin-bottom: 0.5rem;padding-top: 0.5rem;padding-bottom: 0.5rem;">
                                                    <lightning-combobox name="Currency" label="Currency" value={sectionRequest.Section__r.Currency__c} placeholder="--None--" options={currencyOpt} disabled></lightning-combobox>
                                                    <lightning-input type="number" name="LimitPerc" label="Limit (%)" value={sectionRequest.Section__r.LimitPercent__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="DeductiblePerc" label="Deductible (%)" value={sectionRequest.Section__r.DeductiblePercent__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="MaxLimitAmount" label="Max. Limit Amount" value={sectionRequest.Section__r.MaxLimitAmount__c} disabled></lightning-input><br/>
                                                    <lightning-input name="Unlimited" checked={sectionRequest.Section__r.Unlimited__c} type="checkbox" label="Or Unlimited" disabled></lightning-input>
                                                    <lightning-input type="number" name="MinLimitAmount" label="Min. Limit Amount" value={sectionRequest.Section__r.MinLimitAmount__c} disabled></lightning-input>
                                                    <template if:true={sectionRequest.LTAProgramYes}>
                                                        <lightning-input type="number" name="TAL" label="TAL" value={sectionRequest.Section__r.TAL__c} disabled></lightning-input>
                                                    </template>
                                                    <lightning-input type="number" name="SearchMDPPerc" label="Expected MDP (%)" value={sectionRequest.Section__r.ExpectedMDP__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="SearchDepoPremiumPerc" label="Expected Depo. Premium (%)" value={sectionRequest.Section__r.ExpectedDP__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="SearchMinPremiumPerc" label="Expected Min. Premium (%)" value={sectionRequest.Section__r.ExpectedMP__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="TotalEPI" label="Total EPI" value={sectionRequest.Section__r.TotalEPI__c} disabled></lightning-input>
                                                    <lightning-combobox name="Nature" label="Nature" value={sectionRequest.Section__r.Nature__c} placeholder="--None--" options={natureOpt} disabled></lightning-combobox>
                                                </div>
                                            </template>
                                            <template if:true={sectionRequest.isTreatyTypeQS}>
                                                <div style="background-color: #f3f2f2;padding-top: 0.5rem;padding-bottom: 0.5rem;margin-top: 0.5rem;margin-left: 1rem;margin-right: 0.5rem;">
                                                    <lightning-tile type="media">
                                                        <div class="slds-text-heading_small">Quota Share Section</div>
                                                    </lightning-tile>
                                                </div>
                                                <div style="margin-left: 1rem;margin-right: 0.5rem;margin-top: 0.5rem;margin-bottom: 0.5rem;padding-top: 0.5rem;padding-bottom: 0.5rem;">
                                                    <lightning-combobox name="Currency" label="Currency" value={sectionRequest.Section__r.Currency__c} placeholder="--None--" options={currencyOpt} disabled></lightning-combobox>
                                                    <lightning-input type="number" name="CapacityPerRisk" label="Capacity (per risk)" value={sectionRequest.Section__r.CapacityPerRisk__c} disabled></lightning-input><br/>
                                                    <lightning-input name="Unlimited" checked={sectionRequest.Section__r.Unlimited__c} type="checkbox" label="Or Unlimited" disabled></lightning-input>
                                                    <lightning-input type="number" name="EvenLimit" label="Event Limit" value={sectionRequest.Section__r.EventLimit__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="CessionPerc" label="Cession (%)" value={sectionRequest.Section__r.Cession_Perc__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="RetentionPerc" label="Retention (%)" value={sectionRequest.Section__r.Retention__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="CessionAmount" label="Cession (amount)" value={sectionRequest.Section__r.CessionAmount__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="RetensionAmount" label="Retention (amount)" value={sectionRequest.Section__r.RetentionAmount__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="CededPremium" label="Ceded Premium" value={sectionRequest.Section__r.CededPremium__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="TotalEPI" label="Total EPI" value={sectionRequest.Section__r.TotalEPI__c} disabled></lightning-input>
                                                    <lightning-combobox name="Nature" label="Nature" value={sectionRequest.Section__r.Nature__c} placeholder="--None--" options={natureOpt} disabled></lightning-combobox>
                                                </div>
            
                                            </template>
                                            <template if:true={sectionRequest.isTreatyTypeAXAXLQS}>
                                                <div style="background-color: #f3f2f2;padding-top: 0.5rem;padding-bottom: 0.5rem;margin-top: 0.5rem;margin-left: 1rem;margin-right: 0.5rem;">
                                                    <lightning-tile type="media">
                                                        <div class="slds-text-heading_small">Quota Share Section</div>
                                                    </lightning-tile>
                                                </div>
                                                <div style="margin-left: 1rem;margin-right: 0.5rem;margin-top: 0.5rem;margin-bottom: 0.5rem;padding-top: 0.5rem;padding-bottom: 0.5rem;">
                                                    <lightning-combobox name="Currency" label="Currency" value={sectionRequest.Section__r.Currency__c} placeholder="--None--" options={currencyOpt} disabled></lightning-combobox>
                                                    <lightning-input type="number" name="CapacityPerRisk" label="Capacity (per risk)" value={sectionRequest.Section__r.CapacityPerRisk__c} disabled></lightning-input><br/>
                                                    <lightning-input name="Unlimited" checked={sectionRequest.Section__r.Unlimited__c} type="checkbox" label="Or Unlimited" disabled></lightning-input>
                                                    <lightning-input type="number" name="EvenLimit" label="Event Limit" value={sectionRequest.Section__r.EventLimit__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="CessionPerc" label="Cession (%)" value={sectionRequest.Section__r.Cession_Perc__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="RetentionPerc" label="Retention (%)" value={sectionRequest.Section__r.Retention__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="CessionAmount" label="Cession (amount)" value={sectionRequest.Section__r.CessionAmount__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="RetensionAmount" label="Retention (amount)" value={sectionRequest.Section__r.RetentionAmount__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="CededPremium" label="Ceded Premium" value={sectionRequest.Section__r.CededPremium__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="TotalEPI" label="Total EPI" value={sectionRequest.Section__r.TotalEPI__c} disabled></lightning-input>
                                                    <lightning-combobox name="Nature" label="Nature" value={sectionRequest.Section__r.Nature__c} placeholder="--None--" options={natureOpt} disabled></lightning-combobox>
                                                </div>
            
                                            </template>
            
                                            <template if:true={sectionRequest.isTreatyTypeSurplus}>
                                                <div style="background-color: #f3f2f2;padding-top: 0.5rem;padding-bottom: 0.5rem;margin-top: 0.5rem;margin-left: 1rem;margin-right: 0.5rem;">
                                                    <lightning-tile type="media">
                                                        <div class="slds-text-heading_small">Surplus Section</div>
                                                    </lightning-tile>
                                                </div>
                                                <div style="margin-left: 1rem;margin-right: 0.5rem;margin-top: 0.5rem;margin-bottom: 0.5rem;padding-top: 0.5rem;padding-bottom: 0.5rem;">
                                                    <lightning-combobox name="Currency" label="Currency" value={sectionRequest.Section__r.Currency__c} placeholder="--None--" options={currencyOpt} disabled></lightning-combobox>
                                                    <lightning-input type="number" name="LineAmount" label="Line (amount)" value={sectionRequest.Section__r.LineAmount__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="EvenLimit" label="Event Limit" value={sectionRequest.Section__r.EventLimit__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="CededLine" label="Ceded Line(s)" value={sectionRequest.Section__r.CededLines__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="RetentionLine" label="Retention (line)" value={sectionRequest.Section__r.RetentionLine__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="CessionAmount" label="Cession (amount)" value={sectionRequest.Section__r.CessionAmount__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="RetensionAmount" label="Retention (amount)" value={sectionRequest.Section__r.RetentionAmount__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="Capacity" label="Capacity" value={sectionRequest.Section__r.Capacity__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="TotalEPI" label="Total EPI" value={sectionRequest.Section__r.TotalEPI__c} disabled></lightning-input>
                                                    <lightning-combobox name="Nature" label="Nature" value={sectionRequest.Section__r.Nature__c} placeholder="--None--" options={natureOpt} disabled></lightning-combobox>
                                                </div>
                                            </template>
            
                                            <template if:true={sectionRequest.isTreatyTypeXL}>
                                                <div style="background-color: #f3f2f2;padding-top: 0.5rem;padding-bottom: 0.5rem;margin-top: 0.5rem;margin-left: 1rem;margin-right: 0.5rem;">
                                                    <lightning-tile type="media">
                                                        <div class="slds-text-heading_small">Excess of Loss Section</div>
                                                    </lightning-tile>
                                                </div>
                                                <div style="margin-left: 1rem;margin-right: 0.5rem;margin-top: 0.5rem;margin-bottom: 0.5rem;padding-top: 0.5rem;padding-bottom: 0.5rem;">
                                                    <lightning-combobox name="Currency" label="Currency" value={sectionRequest.Section__r.Currency__c} placeholder="--None--" options={currencyOpt} disabled></lightning-combobox>
                                                    <lightning-input type="number" name="Limit" label="Limit" value={sectionRequest.Section__r.Limit__c} disabled></lightning-input>
                                                    <lightning-input name="Unlimited" checked={sectionRequest.Section__r.Unlimited__c} type="checkbox" label="Or Unlimited" disabled></lightning-input>
                                                    <lightning-input type="number" name="DeductiblePerc" label="Deductible" value={sectionRequest.Section__r.Deductible__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="AAD" label="AAD" value={sectionRequest.Section__r.AAD__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="AAL" label="AAL" value={sectionRequest.Section__r.AAL__c} disabled></lightning-input>
                                                    <template if:true={sectionRequest.LTAProgramYes}>
                                                        <lightning-input type="number" name="TAL" label="TAL" value={sectionRequest.Section__r.TAL__c} disabled></lightning-input>
                                                    </template>
                                                    <lightning-textarea name="Reinstatements" disabled value={sectionRequest.ReinstatementStr} label="Reinstatements" ></lightning-textarea>
                                                    <lightning-input type="number" name="SearchMDPPerc" label="Expected MDP (%)" value={sectionRequest.Section__r.ExpectedMDP__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="SearchDepoPremiumPerc" label="Expected Depo. Premium (%)" value={sectionRequest.Section__r.ExpectedDP__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="SearchMinPremiumPerc" label="Expected Min. Premium (%)" value={sectionRequest.Section__r.ExpectedMP__c} disabled></lightning-input>
                                                    <lightning-input type="number" name="TotalEPI" label="Total EPI" value={sectionRequest.Section__r.TotalEPI__c} disabled></lightning-input>
                                                    <lightning-combobox name="Nature" label="Nature" value={sectionRequest.Section__r.Nature__c} placeholder="--None--" options={natureOpt} disabled></lightning-combobox>
            
                                                </div>
                                            </template>
                                        </lightning-layout-item>
                                        <template if:true={isPhaseTypeLead}>
                                            <template if:true={disableLeadPlacementInfo}>
                                                <lightning-layout-item padding="around-small" size="6">
                                                    <c-lwc-28-respond-on-behalf-placement request-obj={sectionRequest} stage="Lead"></c-lwc-28-respond-on-behalf-placement>
                                                </lightning-layout-item>
                                            </template>

                                            <template if:false={disableLeadPlacementInfo}>
                                                <lightning-layout-item padding="around-small" size="6">
                                                    <template if:true={sectionRequest.isQuoteTypeFlatCommission}>
                                                        <div style="background-color: #f3f2f2;padding-top: 0.5rem;padding-bottom: 0.5rem;margin-top: 0.5rem;margin-left: 0.5rem;margin-right: 1rem;">
                                                            <lightning-tile type="media">
                                                                <div class="slds-text-heading_small">Flat commission</div>
                                                            </lightning-tile>
                                                        </div>
                                                        <div style="margin-left: 0.5rem;margin-right: 1rem;margin-top: 0.5rem;padding-top: 0.5rem;">
                                                            <lightning-input type="number" name="FixedCommission__c" step="0.000001" min="0" max="100"  label="Fixed Commission (%)" value={sectionRequest.FixedCommission__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="ProfitCommission__c" step="0.000001" min="0" max="100" label="Profit Commission (%)" value={sectionRequest.ProfitCommission__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="ReinsurerExpenses__c" step="0.000001" min="0" max="100" label="Reinsurer Expenses (%)" value={sectionRequest.ReinsurerExpenses__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="LossCarryingForward__c" label="Loss Carrying Forward" value={sectionRequest.LossCarryingForward__c} disabled></lightning-input><br/>
                                                            <lightning-input name="OrUnlimited__c" checked={sectionRequest.OrUnlimited__c} type="checkbox" label="Or Unlimited" disabled></lightning-input>
                                                            <lightning-input type="number" name="LossCorridorPart__c" step="0.000001" min="0" max="999" label="Loss Corridor Part (%)" value={sectionRequest.LossCorridorPart__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="LossCorridorMinLR__c" step="0.000001" min="0" max="999" label="Loss Corridor Min. L/R (%)" value={sectionRequest.LossCorridorMinLR__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="LossCorridorMaxLR__c" step="0.000001" min="0" max="999" label="Loss Corridor Max. L/R (%)" value={sectionRequest.LossCorridorMaxLR__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="NoClaimBonus__c" label="No Claim Bonus (%)" step="0.000001" min="0" max="100" value={sectionRequest.NoClaimBonus__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="NoClaimBonusAmount__c" label="No Claim Bonus (amount)" value={sectionRequest.NoClaimBonusAmount__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="OverridingCommission__c" step="0.000001" label="Overriding Commission (%)" value={sectionRequest.OverridingCommission__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="CededPremium__c" label="Ceded Premium" value={sectionRequest.CededPremium__c} disabled></lightning-input>
                                                        </div>
                                                    </template>
                                            
                                                    <template if:true={sectionRequest.isQuoteTypeVariableCommission}>
                                                        <div style="background-color: #f3f2f2;padding-top: 0.5rem;padding-bottom: 0.5rem;margin-top: 0.5rem;margin-left: 0.5rem;margin-right: 1rem;">
                                                            <lightning-tile type="media">
                                                                <div class="slds-text-heading_small">Variable commission</div>
                                                            </lightning-tile>
                                                        </div>
                                                        <div style="margin-left: 0.5rem;margin-right: 1rem;margin-top: 0.5rem;padding-top: 0.5rem;">
                                                            <lightning-input type="number" name="ProvisionalCommission__c" step="0.000001" min="0" max="100" label="Provisional Commission (%)" value={sectionRequest.ProvisionalCommission__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="MinVarCommission__c" step="0.000001" min="0" max="100" label="Min. Var. Commission (%)" value={sectionRequest.MinVarCommission__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="MaxVarCommission__c" step="0.000001" min="0" max="100" label="Max. Var. Commission (%)" value={sectionRequest.MaxVarCommission__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="MinLR__c" step="0.000001" min="0" max="100" label="Min. L/R (%)" value={sectionRequest.MinLR__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="MaxLR__c" step="0.000001" min="0" max="100" label="Max. L/R (%)" value={sectionRequest.MaxLR__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="ProfitCommission__c" step="0.000001" min="0" max="100" label="Profit Commission (%)" value={sectionRequest.ProfitCommission__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="ReinsurerExpenses__c" step="0.000001" min="0" max="100" label="Reinsurer Expenses (%)" value={sectionRequest.ReinsurerExpenses__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="LossCarryingForward__c" label="Loss Carrying Forward" value={sectionRequest.LossCarryingForward__c} disabled></lightning-input><br/>
                                                            <lightning-input name="OrUnlimited__c" checked={sectionRequest.OrUnlimited__c} type="checkbox" label="Or Unlimited" disabled></lightning-input>
                                                            <lightning-input type="number" name="LossCorridorPart__c" step="0.000001" min="0" max="999" label="Loss Corridor Part (%)" value={sectionRequest.LossCorridorPart__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="LossCorridorMinLR__c" step="0.000001" min="0" max="999" label="Loss Corridor Min. L/R (%)" value={sectionRequest.LossCorridorMinLR__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="LossCorridorMaxLR__c" step="0.000001" min="0" max="999" label="Loss Corridor Max. L/R (%)" value={sectionRequest.LossCorridorMaxLR__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="NoClaimBonus__c" label="No Claim Bonus (%)" step="0.000001" min="0" max="100" value={sectionRequest.NoClaimBonus__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="NoClaimBonusAmount__c" label="No Claim Bonus (amount)" value={sectionRequest.NoClaimBonusAmount__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="OverridingCommission__c" step="0.000001" label="Overriding Commission (%)" value={sectionRequest.OverridingCommission__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="CededPremium__c" label="Ceded Premium" value={sectionRequest.CededPremium__c} disabled></lightning-input>
                                                        </div>
                                                    </template>
                                            
                                                    <template if:true={sectionRequest.isQuoteTypeRiskPremiumBasis}>
                                                        <div style="background-color: #f3f2f2;padding-top: 0.5rem;margin-top: 0.5rem;margin-left: 0.5rem;margin-right: 1rem;">
                                                            <lightning-tile type="media">
                                                                <div class="slds-text-heading_small">Proportional - Risk Premium Basis</div>
                                                            </lightning-tile>
                                                        </div>
                                                        <div style="margin-left: 0.5rem;margin-right: 1rem;margin-top: 0.5rem;margin-bottom: 0.5rem;padding-top: 0.5rem;padding-bottom: 0.5rem">
                                                            <lightning-input type="number" name="EstimatedReinsurancePremium__c"  field-level-help="Please indicate 1st year of premium only" label="Estimated Reinsurance Premium" value={sectionRequest.EstimatedReinsurancePremium__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="EstimatedInsurancePremium__c" field-level-help="Please indicate 1st year of premium only" label="Estimated Insurance Premium (100% basis)" value={sectionRequest.EstimatedInsurancePremium__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="OverridingCommission__c" step="0.000001" label="Overriding Commission (%)" value={sectionRequest.OverridingCommission__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="ProfitCommission__c" step="0.000001" min="0" max="100" label="Profit Commission (%)" value={sectionRequest.ProfitCommission__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="ReinsurerExpenses__c" step="0.000001" min="0" max="100" label="Reinsurer Expenses (%)" value={sectionRequest.ReinsurerExpenses__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="LossCarryingForward__c" label="Loss Carrying Forward" value={sectionRequest.LossCarryingForward__c} disabled></lightning-input><br/>
                                                            <lightning-input name="OrUnlimited__c" checked={sectionRequest.OrUnlimited__c} type="checkbox" label="Or Unlimited" disabled></lightning-input>
                                                            <lightning-input type="number" name="CededPremium__c" label="Ceded Premium" value={sectionRequest.CededPremium__c} disabled></lightning-input>
                                                            <div style="margin-left: 0.5rem;margin-right: 1rem;margin-top: 0.5rem;margin-bottom: 0.5rem;padding-top: 0.5rem;padding-bottom: 0.5rem" class="slds-form-element">
                                                                <span class="slds-form-element__label"><b>Please join the mortality table</b></span>
                                                            </div>
                                                        </div>
                                                    </template>
                                            
                                                    <template if:true={sectionRequest.isQuoteTypeFixedRate}>
                                                        <div style="background-color: #f3f2f2;padding-top: 0.5rem;padding-bottom: 0.5rem;margin-top: 0.5rem;margin-left: 0.5rem;margin-right: 1rem;">
                                                            <lightning-tile type="media">
                                                                <div class="slds-text-heading_small">Fixed Rate</div>
                                                            </lightning-tile>
                                                        </div>
                                                        <div style="margin-left: 0.5rem;margin-right: 1rem;margin-top: 0.5rem;padding-top: 0.5rem;">
                                                            <lightning-input type="number" name="FixedRate__c" step="0.000001" min="0" max="100" label="Fixed Rate (%)" value={sectionRequest.FixedRate__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="NoClaimBonus__c" label="No Claim Bonus (%)" step="0.000001" min="0" max="100" value={sectionRequest.NoClaimBonus__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="NoClaimBonusAmount__c" label="No Claim Bonus (amount)" value={sectionRequest.NoClaimBonusAmount__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="CededPremium__c" label="Ceded Premium" value={sectionRequest.CededPremium__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="MDP__c" label="MDP" value={sectionRequest.MDP__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="DepoPremium__c" label="Depo. Premium" value={sectionRequest.DepoPremium__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="MinPremium__c" label="Min. Premium" value={sectionRequest.MinPremium__c} disabled></lightning-input>
                                                        </div>
                                                    </template>
                                            
                                                    <template if:true={sectionRequest.isQuoteTypeFlatPremium}>
                                                        <div style="background-color: #f3f2f2;padding-top: 0.5rem;padding-bottom: 0.5rem;margin-top: 0.5rem;margin-left: 0.5rem;margin-right: 1rem;">
                                                            <lightning-tile type="media">
                                                                <div class="slds-text-heading_small">Flat Premium</div>
                                                            </lightning-tile>
                                                        </div>
                                                        <div style="margin-left: 0.5rem;margin-right: 1rem;margin-top: 0.5rem;padding-top: 0.5rem;">
                                                            <lightning-input type="number" name="FlatPremium__c" min="0" step="1" message-when-step-mismatch="Only whole numbers allowed" message-when-bad-input="Only whole numbers allowed" label="Flat Premium" value={sectionRequest.FlatPremium__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="NoClaimBonus__c" label="No Claim Bonus (%)" step="0.000001" min="0" max="100" value={sectionRequest.NoClaimBonus__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="NoClaimBonusAmount__c" label="No Claim Bonus (amount)" value={sectionRequest.NoClaimBonusAmount__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="CededPremium__c" label="Ceded Premium" value={sectionRequest.CededPremium__c} disabled></lightning-input>
                                                        </div>
                                                    </template>
                                            
                                                    <template if:true={sectionRequest.isQuoteTypeMDP}>
                                                        <div style="background-color: #f3f2f2;padding-top: 0.5rem;padding-bottom: 0.5rem;margin-top: 0.5rem;margin-left: 0.5rem;margin-right: 1rem;">
                                                            <lightning-tile type="media">
                                                                <div class="slds-text-heading_small">MDP</div>
                                                            </lightning-tile>
                                                        </div>
                                                        <div style="margin-left: 0.5rem;margin-right: 1rem;margin-top: 0.5rem;padding-top: 0.5rem;">
                                                            <lightning-input type="number" name="MDP__c" label="MDP" value={sectionRequest.MDP__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="NoClaimBonus__c" label="No Claim Bonus (%)" step="0.000001" min="0" max="100" value={sectionRequest.NoClaimBonus__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="NoClaimBonusAmount__c" label="No Claim Bonus (amount)" value={sectionRequest.NoClaimBonusAmount__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="CededPremium__c" label="Ceded Premium" value={sectionRequest.CededPremium__c} disabled></lightning-input>
                                                        </div>
                                                    </template>
                                            
                                                    <template if:true={sectionRequest.isQuoteTypeVariableRate}>
                                                        <div style="background-color: #f3f2f2;padding-top: 0.5rem;padding-bottom: 0.5rem;margin-top: 0.5rem;margin-left: 0.5rem;margin-right: 1rem;">
                                                            <lightning-tile type="media">
                                                                <div class="slds-text-heading_small">Variable rate</div>
                                                            </lightning-tile>
                                                        </div>
                                                        <div style="margin-left: 0.5rem;margin-right: 1rem;margin-top: 0.5rem;padding-top: 0.5rem;">
                                                            <lightning-input type="number" name="MinRate__c" step="0.000001" min="0" max="100" label="Min. Rate (%)" value={sectionRequest.MinRate__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="MaxRate__c" step="0.000001" min="0" max="100" label="Max. Rate (%)" value={sectionRequest.MaxRate__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="ProvisionalRate__c" step="0.000001" min="0" max="100" label="Provisional Rate (%)" value={sectionRequest.ProvisionalRate__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="Adjustment__c" step="0.000001" min="100"  label="Adjustment (%)" value={sectionRequest.Adjustment__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="NoClaimBonus__c" label="No Claim Bonus (%)" step="0.000001" min="0" max="100" value={sectionRequest.NoClaimBonus__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="NoClaimBonusAmount__c" label="No Claim Bonus (amount)" value={sectionRequest.NoClaimBonusAmount__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="CededPremium__c" label="Ceded Premium" value={sectionRequest.CededPremium__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="MDP__c" label="MDP" value={sectionRequest.MDP__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="DepoPremium__c" label="Depo. Premium" value={sectionRequest.DepoPremium__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="MinPremium__c" label="Min. Premium" value={sectionRequest.MinPremium__c} disabled></lightning-input>
                                                        </div>
                                                    </template>
                                            
                                                    <template if:true={sectionRequest.isQuoteTypePerHeadPremium}>
                                                        <div style="background-color: #f3f2f2;padding-top: 0.5rem;padding-bottom: 0.5rem;margin-top: 0.5rem;margin-left: 0.5rem;margin-right: 1rem;">
                                                            <lightning-tile type="media">
                                                                <div class="slds-text-heading_small">Per Head Premium</div>
                                                            </lightning-tile>
                                                        </div>
                                                        <div style="margin-left: 0.5rem;margin-right: 1rem;margin-top: 0.5rem;margin-bottom: 0.5rem;padding-top: 0.5rem;padding-bottom: 0.5rem">
                                                            <lightning-input type="number" name="PerHeadPremium__c" step="0.01" label="Per Head Premium" value={sectionRequest.PerHeadPremium__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="NoClaimBonus__c" label="No Claim Bonus (%)" step="0.000001" min="0" max="100" value={sectionRequest.NoClaimBonus__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="NoClaimBonusAmount__c" label="No Claim Bonus (amount)" value={sectionRequest.NoClaimBonusAmount__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="CededPremium__c" label="Ceded Premium" value={sectionRequest.CededPremium__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="MDP__c" label="MDP" value={sectionRequest.MDP__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="DepoPremium__c" label="Depo. Premium" value={sectionRequest.DepoPremium__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="MinPremium__c" label="Min. Premium" value={sectionRequest.MinPremium__c} disabled></lightning-input>
                                                        </div>
                                                    </template>
                                            
                                                    <template if:true={sectionRequest.isQuoteTypePerHeadVariable}>
                                                        <div style="background-color: #f3f2f2;padding-top: 0.5rem;padding-bottom: 0.5rem;margin-top: 0.5rem;margin-left: 0.5rem;margin-right: 1rem;">
                                                            <lightning-tile type="media">
                                                                <div class="slds-text-heading_small">Per Head Variable</div>
                                                            </lightning-tile>
                                                        </div>
                                                        <div style="margin-left: 0.5rem;margin-right: 1rem;margin-top: 0.5rem;margin-bottom: 0.5rem;padding-top: 0.5rem;padding-bottom: 0.5rem">
                                                            <lightning-input type="number" name="MinPerHeadAmount__c" step="0.01" label="Min. Per Head amount" value={sectionRequest.MinPerHeadAmount__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="MaxPerHeadAmount__c" step="0.01" label="Max. Per Head amount" value={sectionRequest.MaxPerHeadAmount__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="ProvisionalPerHeadPremium__c" step="0.01" label="Provisional Per Head Premium" value={sectionRequest.ProvisionalPerHeadPremium__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="Adjustment__c" step="0.000001" min="100" label="Adjustment (%)" value={sectionRequest.Adjustment__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="NoClaimBonus__c" label="No Claim Bonus (%)" step="0.000001" min="0" max="100" value={sectionRequest.NoClaimBonus__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="NoClaimBonusAmount__c" label="No Claim Bonus (amount)" value={sectionRequest.NoClaimBonusAmount__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="CededPremium__c" label="Ceded Premium" value={sectionRequest.CededPremium__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="MDP__c" label="MDP" value={sectionRequest.MDP__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="DepoPremium__c"  label="Depo. Premium" value={sectionRequest.DepoPremium__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="MinPremium__c" label="Min. Premium" value={sectionRequest.MinPremium__c} disabled></lightning-input>
                                                        </div>
                                                    </template>
                                            
                                                    <template if:true={sectionRequest.isQuoteTypePerHead}>
                                                        <div style="background-color: #f3f2f2;padding-top: 0.5rem;padding-bottom: 0.5rem;margin-top: 0.5rem;margin-left: 0.5rem;margin-right: 1rem;">
                                                            <lightning-tile type="media">
                                                                <div class="slds-text-heading_small">Per Head</div>
                                                            </lightning-tile>
                                                        </div>
                                                        <div style="margin-left: 0.5rem;margin-right: 1rem;margin-top: 0.5rem;margin-bottom: 0.5rem;padding-top: 0.5rem;padding-bottom: 0.5rem">
                                                            <lightning-input type="number" name="PerHeadPremium__c" label="Per Head Premium" step="0.01" value={sectionRequest.PerHeadPremium__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="ProfitCommission__c" step="0.000001" min="0" max="100" label="Profit Commission (%)" value={sectionRequest.ProfitCommission__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="LossCarryingForward__c" label="Loss Carrying Forward" value={sectionRequest.LossCarryingForward__c} disabled></lightning-input><br/>
                                                            <lightning-input type="number" name="LossCorridorParticipation__c" step="0.000001" min="0" max="100" label="Loss Corridor Participation(%)" value={sectionRequest.LossCorridorParticipation__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="LossCorridorPart__c" step="0.000001" min="0" max="999" label="Loss Corridor Part (%)" value={sectionRequest.LossCorridorPart__c} disabled></lightning-input>
                                                            <lightning-input type="number" name="ReinsurerExpenses__c" step="0.000001" min="0" max="100" label="Reinsurer Expenses (%)" value={sectionRequest.ReinsurerExpenses__c} disabled></lightning-input>
                                                        </div>
                                                    </template>
                                                </lightning-layout-item>
                                            </template>
                                        
                                        </template>
                                    </lightning-layout>
                                </div>
                                <br/>
                            </lightning-accordion-section>
                        </lightning-accordion>
                    </div>
                </template>
                <br/>
                 <!--Add signed share here-->
                 <lightning-accordion allow-multiple-sections-open="true">
                    <lightning-accordion-section name="Signing" label={signingTitle} class="collapsible_bg">
                        <div style="min-height:99px;max-height:800px;width: 104%;margin-left: -2%;background: white;    padding-top: 2%">
                            <div class="slds-m-bottom_small" style="margin-left: 45px;">
                                <lightning-layout class="slds-wrap" multiple-rows="true">
                                    <lightning-layout-item size="6">
                                        <div class="slds-form-element"><span class="slds-form-element__label">Written share:</span>
                                            <div class="slds-form-element__control"><span class="slds-form-element__static">{treatySectionRequest.writtenShare}</span></div>
                                        </div>
                                    </lightning-layout-item>
                                    <lightning-layout-item size="6">
                                        <div class="slds-form-element"><span class="slds-form-element__label">Signed share:</span>
                                            <div class="slds-form-element__control"><span class="slds-form-element__static">{treatySectionRequest.signedShare}</span></div>
                                        </div>
                                    </lightning-layout-item>
                                </lightning-layout>
                            </div>
                        </div>
                    </lightning-accordion-section>
                </lightning-accordion>
            </div>
        </template>
<!--    </lightning-card>-->
    <!--Spinner-->
    <template if:true={displaySpinner}>
        <div class="slds-spinner_container">
            <div role="status" class="slds-spinner slds-spinner_medium slds-spinner_delayed">
              <span class="slds-assistive-text">Loading...</span>
              <div class="slds-spinner__dot-a"></div>
              <div class="slds-spinner__dot-b"></div>
            </div>
          </div>
    </template>
   
    <br/>   
    <lightning-card>
        <template if:false ={SFPbtnVisible}>
            <div class="slds-align_absolute-center">
                <lightning-formatted-text value={signingLabel}></lightning-formatted-text>
            </div>
        </template>
        <template if:true={SFPbtnVisible}>
            <lightning-button-group slot="actions">
                <lightning-button variant="brand" label="Sign For Pool" title="SignForPool" class="slds-m-left_x-small" onclick={handleSignForPool}></lightning-button>
            </lightning-button-group>
        </template>
    </lightning-card>
</template>